<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tech-news-Galactica Lab</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hepta+Slab:wght@1..900&family=Rokkitt:ital,wght@0,100..900;1,100..900&display=swap');
        @import url('https://db.onlinewebfonts.com/c/23255fa3ff7a89589800cea3092f154f?family=NB+International+Regular+Webfont');

        body {
            background: black;
            color: rgb(255, 255, 255);
            font-family: "NB International Regular Webfont";
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        h1,
        h2 {
            color: #fff;
        }

        a {
            color: rgb(195, 122, 255);
            text-decoration: none;
        }

        a:hover {
            color: rgb(215, 166, 252);
            text-decoration: underline;
        }

        .news-item {
            margin-bottom: 30px;
            border-bottom: 1px solid #333;
            padding-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }

        .news-image {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-right: 20px;
        }

        .news-content {
            flex: 1;
        }

        .news-title {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .news-meta {
            font-size: 0.9em;
            color: #888;
            margin-bottom: 10px;
        }

        .news-text {
            font-size: 0.95em;
            margin-bottom: 10px;
        }

        .news-links a {
            margin-right: 15px;
        }
    </style>
</head>

<body>
    <a href="/index.html">[home]</a>
    <a href="/hq/g-hq.html">[galactica-hq]</a>
    <a href="/lab/g-lab.html">[galactica-lab]</a>

    <h1>galactica lab: tech news</h1>

    <div id="news-container">
        <!-- News items will be inserted here -->
    </div>

    <script>
        async function fetchNews() {
            try {
                const response = await fetch('/api/news');
                const data = await response.json();
                const newsContainer = document.getElementById('news-container');

                if (data.articles && data.articles.length > 0) {
                    data.articles.forEach(article => {
                        const storyElement = document.createElement('div');
                        storyElement.className = 'news-item';

                        storyElement.innerHTML = `
                        <img src="${article.urlToImage || 'https://via.placeholder.com/100'}" alt="News image" class="news-image">
                        <div class="news-content">
                            <div class="news-title"><a href="${article.url}" target="_blank">${article.title}</a></div>
                            <div class="news-meta">
                                by ${article.author || 'Unknown'} | ${new Date(article.publishedAt).toLocaleString()}
                            </div>
                            <div class="news-text">${article.description || 'No description available.'}</div>
                            <div class="news-links">
                                <a href="${article.url}" target="_blank">Read Full Article</a>
                            </div>
                        </div>
                    `;
                        newsContainer.appendChild(storyElement);
                    });
                } else {
                    newsContainer.innerHTML = '<p>No news articles available at the moment.</p>';
                }
            } catch (error) {
                console.error('Error fetching news:', error);
            }
        }

        // Call fetchNews when the page loads
        window.onload = fetchNews;
    </script>
</body>

</html>